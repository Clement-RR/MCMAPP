<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Step 3: Select CAs-Input</title>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">

    <style>

       .info-icon {
            margin-left: 8px;
            cursor: pointer;
        }
    </style>
</head>
<body class="container">
    <h1 class="mt-4">Change Attributes</h1>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="impactOnInternal" {% if 'impactOnInternal' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="impactOnInternal">
            Impact on internal
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How are different internal elements affected by the MC?">
        
    </div>


    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="impactOnExternal" {% if 'impactOnExternal' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="impactOnExternal">
            Impact on external
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How are different external elements affected by the MC?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="efforts" {% if 'efforts' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="efforts">
            Efforts
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How much effort is required to implement the change?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="costs" {% if 'costs' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="costs">
            Costs
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How high are the expected costs of the change?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="availableDataInformation" {% if 'availableDataInformation' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="availableDataInformation">
            Available data/information
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How much data/information already exists about this or similar changes?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="dependencyLevel" {% if 'dependencyLevel' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="dependencyLevel">
            Dependency level
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How strong are the dependencies between past changes and the current change?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="changePropagation" {% if 'changePropagation' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="changePropagation">
            Change propagation
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How likely is it that another change will occur as a result of this change?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="changeReoccurrence" {% if 'changeReoccurrence' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="changeReoccurrence">
            Change reoccurrence
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="What is the probability that the change will occur again?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="complexity" {% if 'complexity' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="complexity">
            Complexity
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="How complex is the change and what are consequences?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="challenges" {% if 'challenges' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="challenges">
            Challenges
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="What are the expected challenges?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="duration" {% if 'duration' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="duration">
            Duration
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="What is the expected duration of the MC?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="relevance" {% if 'relevance' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="relevance">
            Relevance
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="What is the relevance of the MC?">
    </div>

    <div class="label-container form-check mt-4">
        <input type="checkbox" class="form-check-input" id="urgency" {% if 'urgency' in previous_CA_columns %}checked{% endif %}>
        <label class="form-check-label" for="urgency">
            Urgency
        </label>
        <img src="../static/images/info-circle-fill.svg" alt="Info icon" class="info-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="What is the urgency of the MC?">
    </div>

    <div class="d-flex mt-2">
        <button id="save" class="btn btn-primary m-2">Save</button>
        <button id="closeButton" class="btn btn-secondary m-2" onclick="window.close();">Close</button>
    </div>

    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <!-- Initialize Tooltips -->
    <script>
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })
    </script>
    <script>
        document.getElementById('save').addEventListener('click', function() {
            const inputs = document.querySelectorAll('.label-container input[type="checkbox"]');
            const selectedIds = [];

            inputs.forEach(input => {
                if (input.checked) {
                    selectedIds.push(input.id);
                }
            });

            fetch('/select_change_attribute', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ids: selectedIds}),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                alert('Attributes saved successfully.');
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });




    </script>

</body>
</html>